﻿﻿<!DOCTYPE html>
<html lang="pt-BR">
<head><meta charset="UTF-8"><title>Desafio 5: Shadow DOM</title><link rel="stylesheet" href="style.css"></head>
<body>
    <div class="container">
        <h1>Reino das Sombras</h1>
        
        <div class="info-box">
            <h4>🎯 Objetivo: Shadow DOM</h4>
            <p>Este botão está isolado dentro de uma "sombra". Seletores globais (CSS/XPath) não conseguem encontrá-lo diretamente.</p>
            <small>Solução: Obtenha o <code>shadow-host</code> primeiro, depois acesse seu <code>shadowRoot</code>.</small>
        </div>

        <div id="shadow-host"></div>
        <br><a href="dashboard.html">Voltar ao Dashboard</a>
    </div>

    <!-- Estrutura da Modal -->
    <div id="custom-modal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <h3 id="modal-title">Título</h3>
            <p id="modal-msg">Mensagem</p>
            <button onclick="closeModal()">OK</button>
        </div>
    </div>

    <script>
        const host = document.getElementById('shadow-host');
        const shadowRoot = host.attachShadow({mode: 'open'});
        shadowRoot.innerHTML = `
            <style>button { background: #8e44ad; color: white; padding: 10px; border: none; border-radius: 5px; cursor: pointer; }</style>
            <div class="shadow-content"><h3>Componente Isolado</h3><button id="shadow-btn" onclick="window.showModal('Shadow DOM', 'Você atravessou as sombras!', true)">Botão Sombrio</button></div>
        `;

        window.showModal = function(title, message, isSuccess) {
            const titleElem = document.getElementById('modal-title');
            titleElem.innerText = title;
            titleElem.style.color = isSuccess ? '#27ae60' : '#e74c3c';
            document.getElementById('modal-msg').innerText = message;
            document.getElementById('custom-modal').style.display = 'block';
        }
        window.closeModal = function() { document.getElementById('custom-modal').style.display = 'none'; }
        window.onclick = function(event) { if (event.target == document.getElementById('custom-modal')) closeModal(); }
    </script>
</body></html>
